{% extends "baseAdmin.html" %}

{% block title %}
  Alta Producto
{% endblock title %}


{% block css %}
     <link rel="stylesheet" href="{{url_for('static', filename='css/personales/contactForm.css')}}" type="text/css">
 {% endblock %} 
{% block content  %}
  	<div class="main">
        <h1 class="titleRegister">Alta Producto</h1>
        <!--Etiqueta form principal-->
		<form action="{{url_for('product.store')}}" class="form" id="form" 
  
        enctype="multipart/form-data"
        method="post" novalidate>
         <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
         {% if id %}
            <input type="hidden" name="id" value={{id}}>
         {% endif %}
         
            <!---Grupo para pedir un dato al usuario-->
            <div class="form__group" id="name__group">
              {{form.name.label(class='form__label')}}
               
                <div class="form__group-input">
                    {{form.name(class='form__input')}}
                    
                    <!--<i class="form__validation-state bi bi-x-octagon"></i>-->
                </div>
                <small id="name-error" class="text-danger">
                  {% if form.name.errors %}
                      {{form.name.errors[0]}}
                  {% endif %}
                </small>
            </div>

            <!---Grupo para pedir un dato al usuario-->
            <div class="form__group" id="lastName__group">
                {{form.price.label(class='form__label')}}
                <div class="form__group-input">
                    {{form.price(class='form__input')}}
                    <!--<i class="form__validation-state bi bi-x-octagon"></i>-->
                    <!--<small class="form__input-error lastName-error"></small>-->
                </div>
                <small id="lastName-error">
                   {% if form.price.errors %}
                      {{form.price.errors[0]}}
                  {% endif %}
                </small>
            </div>

              <!---Grupo para pedir un dato al usuario-->
              <div class="form__group" id="email__group">
                {{form.stock.label(class='form__label')}}
                <div class="form__group-input">
                    {{form.stock(class='form__input')}}
                    <!--<i class="form__validation-state bi bi-x-octagon"></i>-->
                    <!--<small class="form__input-error email-error"></small>-->
                </div>
                <small id="email-error">
                   {% if form.stock.errors %}
                      {{form.stock.errors[0]}}
                  {% endif %}

                </small>
                </div>
                
                 <!---Grupo para pedir un dato al usuario-->
                 
           
                <div class="form__group" id="password__group">
                  {{form.description.label(class='form__label')}}
               
                    <div class="form__group-input">
                      {{form.description(class='form__input')}}
                        <!--<i class="form__validation-state bi bi-x-octagon"></i>-->
                        <!--<small class="form__input-error password-error"></small>-->
                    </div>
                    <small id="password-error">
                       {% if form.description.errors %}
                      {{form.description.errors[0]}}
                  {% endif %}
                    </small>
            </div>

            
            
            <div class="form__group" id="state__group">
                <label for="state" class="form__label">Categoria</label>
                <div class="form__group-input">
                    {{form.category}}
               <!-- <select name="state" id="state">
                    <option selected="selected" value=0 disabled>Seleccione una provincia</option>
                    <option value="1">Corrientes</option>
                    <option value="2">Chaco</option>
                    <option value="3">Formosa</option>
                    <option value="4">Misiones</option>
                </select>-->
                </div>
                <small id="state-error">
                      {% if form.category.errors %}
                            {{form.category.errors[0]}}
                       {% endif %}
                </small>
            </div>

            <div class="form__group">
                <label for="avatar" class="form__label">
                    Imagen
                </label>
                <div class="form__group-input">
                    <!--<input type="file" name="avatar" id="avatar"
                    accept="image/png,image/jpeg,image/jpg,image/gif">-->
                    {{form.img}}
                    {% if img %}
                      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                            Ver Imagen Actual
                      </button>
                    {% endif %}
                    <small id="avatar-error">
                       {% if form.img.errors %}
                            {{form.img.errors[0]}}
                       {% endif %}
                    </small>
                 </div>
                 <small>Archivos jpg, jpeg, gif, png</small>
            </div>
          


           <!-- <div class="form__msg" id="msgError" name="msgError">
                <small>
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    Error
                </small>
                
            </div>-->

            <div class="form__group form__group-btn-submit">
              {{form.submit(class='form__btn')}}
               
            </div>

        </form>
        
  </div>
  <!-- Button trigger modal -->


<!-- Modal -->
 {% if img %}
 <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Imagen Inicial</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
         <img width="320px" src="{{ url_for('static', filename='img/products/' ~ img) }}" alt="Current Image">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
 {% endif %}

{% endblock content  %}